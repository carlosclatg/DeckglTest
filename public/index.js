const http = require('http');

//node application simulating server
const server = http.createServer((req, res) => {
    res.statusCode = 200;
    console.log('handling req')
    res.setHeader('Content-Type', 'application/json');
    let htmlFile = '';
      switch(req.url) {
        case '/':
          res.write(JSON.stringify(geojson_base));
          break;
        case '/tiled':
          res.write(JSON.stringify(polygon_base));
          break;
        case '/services':
          htmlFile = 'services.html';
          break;
        default:
          break;
      }
    
    res.end();
  });
  
  server.listen(8081, () => {
    console.log(`El servidor se est√° ejecutando en 8081`);
  });

  const geojson_base = {
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
          "domain_code": "abc",
          "space_code":"cazzata" 
        },
        "geometry": {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -7.3828125,
                44.213709909702054
              ],
              [
                -10.986328125,
                41.31082388091818
              ],
              [
                -12.65625,
                33.284619968887675
              ],
              [
                3.8671874999999996,
                28.07198030177986
              ],
              [
                6.328125,
                35.53222622770337
              ],
              [
                6.6796875,
                42.68243539838623
              ],
              [
                1.7578125,
                44.902577996288876
              ],
              [
                -7.3828125,
                44.213709909702054
              ]
            ]
          ]
        }
      }
    ]
  }

  const geojson_tiled = {
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
          "domain_code": "tiled",
          "space_code":"cazzata_tiled" 
        },
        "geometry": {
          "type": "LineString",
          "coordinates": [
            [
              -2.08740234375,
              42.02481360781777
            ],
            [
              0.32958984375,
              43.03677585761058
            ],
            [
              4.0869140625,
              41.47566020027821
            ],
            [
              3.570556640625,
              44.653024159812
            ],
            [
              1.021728515625,
              44.36313311380771
            ],
            [
              -0.142822265625,
              45.31352900692258
            ],
            [
              5.6689453125,
              45.213003555993964
            ],
            [
              6.767578125,
              44.49650533109348
            ],
            [
              6.416015625,
              43.48481212891603
            ],
            [
              7.734374999999999,
              43.70759350405294
            ],
            [
              8.349609375,
              44.55916341529182
            ],
            [
              9.184570312499998,
              45.30580259943578
            ],
            [
              10.01953125,
              45.42929873257377
            ],
            [
              10.2392578125,
              44.809121700077355
            ],
            [
              10.2392578125,
              44.213709909702054
            ],
            [
              10.72265625,
              43.03677585761058
            ],
            [
              10.6787109375,
              42.09822241118974
            ],
            [
              11.6455078125,
              41.96765920367816
            ],
            [
              12.436523437499998,
              41.80407814427234
            ],
            [
              12.83203125,
              41.73852846935917
            ],
            [
              13.447265624999998,
              41.50857729743935
            ],
            [
              13.623046875,
              41.21172151054787
            ],
            [
              12.744140625,
              39.87601941962116
            ],
            [
              12.6123046875,
              39.436192999314095
            ],
            [
              11.557617187499998,
              38.993572058209466
            ],
            [
              10.546875,
              38.788345355085625
            ],
            [
              9.228515625,
              38.47939467327645
            ],
            [
              8.349609375,
              37.82280243352756
            ],
            [
              8.4375,
              37.50972584293751
            ],
            [
              9.0966796875,
              37.405073750176925
            ],
            [
              11.6015625,
              36.87962060502676
            ],
            [
              11.42578125,
              36.27970720524017
            ],
            [
              7.207031249999999,
              36.10237644873644
            ],
            [
              -5.9765625,
              38.20365531807149
            ],
            [
              -2.5048828125,
              32.43561304116276
            ],
            [
              2.3291015625,
              32.95336814579932
            ],
            [
              2.548828125,
              33.063924198120645
            ]
          ]
        }
      }
    ]
  }

  const polygon_base = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": {},
          "geometry": {
            "type": "Polygon",
            "coordinates": [
              [
                [
                  2.449951171875,
                  49.653404588437894
                ],
                [
                  1.021728515625,
                  48.67645370777654
                ],
                [
                  0.9777832031250001,
                  47.68757916850813
                ],
                [
                  1.900634765625,
                  47.025206001585396
                ],
                [
                  4.7900390625,
                  47.44294999517949
                ],
                [
                  4.383544921875,
                  48.378145469762444
                ],
                [
                  4.7021484375,
                  49.688954878870305
                ],
                [
                  3.2958984375,
                  50.15578588538455
                ],
                [
                  2.449951171875,
                  49.653404588437894
                ]
              ]
            ]
          }
        }
      ]
    }
